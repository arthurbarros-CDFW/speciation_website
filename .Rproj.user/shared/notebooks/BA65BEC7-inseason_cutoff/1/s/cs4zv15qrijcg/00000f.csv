"0","#1) Identify peaks"
"0","h_peakA <- as.numeric(as.Date(""2009-11-10""))"
"0","h_peakB <- as.numeric(as.Date(""2010-01-12""))"
"0",""
"0","#2) Simulate counts around the peaks using normal distributions"
"0","set.seed(123)  # For reproducibility"
"0","h_countsA <- round(rnorm(400, mean = h_peakA, sd = 20))"
"0","h_countsB <- round(rnorm(325, mean = h_peakB, sd = 22))"
"0",""
"0","#3) Create dataframes with counts"
"0","h_countsA <- as.data.frame(table(as.Date(h_countsA, origin = ""1970-01-01"")))"
"0","h_countsB <- as.data.frame(table(as.Date(h_countsB, origin = ""1970-01-01"")))"
"0","names(h_countsA) <- c(""date"", ""Count"")"
"0","names(h_countsB) <- c(""date"", ""Count"")"
"0",""
"0","#4) Add species column"
"0","h_countsA$species <- ""A"""
"0","h_countsB$species <- ""B"""
"0",""
"0","#5) Combine both dataframes"
"0","date_counts <- rbind(h_countsA, h_countsB)"
"0",""
"0","#6) Convert date column to date type"
"0","date_counts$date <- as.Date(date_counts$date)"
"0",""
"0","#7) Bin the dates by week"
"0","date_counts$Week <- cut(date_counts$date, breaks = ""week"","
"0","                        start.on.monday = TRUE)"
"0",""
"0","#8) Aggregate the counts by week and species"
"0","weekly_aux <- date_counts %>%"
"0","  group_by(Week, species) %>%"
"0","  summarise(Total_Count = sum(Count)) %>%"
"0","  ungroup()"
"0",""
"0","#9) Convert Week back to Date for plotting"
"0","weekly_aux$Week <- as.Date(weekly_aux$Week)"
"0",""

"0","#create new simulated auxiliary length, date, and flow data."
"0","set.seed(42)  # For reproducibility"
"0","#lengths"
"0","lengths_A <- round(rnorm(400, mean=100, sd=15),2)"
"0","lengths_B <- round(rnorm(325, mean=80, sd=15),2)"
"0",""
"0","#dates"
"0","dates_A <- round(rnorm(400,mean = as.numeric(as.Date(""2023-11-20"")), sd = 20))"
"0","dates_B <- round(rnorm(325,mean = as.numeric(as.Date(""2024-01-10"")), sd = 22))"
"0",""
"0","#make dataframe"
"0","aux_data <- data.frame("
"0","  length = c(lengths_A, lengths_B),"
"0","  date = round(as.Date(c(dates_A,dates_B), origin = ""1970-01-01"")),"
"0","  species = factor(rep(c(""A"", ""B""), times=c(400,325)))"
"0",")"
"0",""
"0","#flow"
"0","start_date <- as.Date(paste(year(min(aux_data$date)),""01"",""01"",sep=""-""))"
"0","end_date <- as.Date(paste(year(max(aux_data$date)),""12"",""31"",sep=""-""))"
"0","dates <- seq.Date(start_date, end_date, by = ""day"")"
"0",""
"0","days_in_period <- length(dates)"
"0","max_flow <- 1000  # maximum flow in cfs"
"0","min_flow <- 100    # minimum flow in cfs"
"0",""
"0","# Create a sinusoidal flow pattern to simulate seasonal variation"
"0","flow_pattern <- (max_flow - min_flow) / 2 * "
"0","  sin(2 * pi * (1:days_in_period -20) / 365) + "
"0","  (max_flow + min_flow) / 2"
"0",""
"0","# Create a random noise process using an auto-regression model"
"0","# rho=level of autocorrelation"
"0","rho <- 0.9  # autocorrelation parameter; "
"0","#higher values give smoother transitions"
"0",""
"0","ac_noise <- numeric(days_in_period)"
"0","ac_noise[1] <- rnorm(1, mean = 0, sd = 100)  # initial noise value"
"0","for (i in 4:days_in_period) {"
"0","  ac_noise[i] <- rho * ac_noise[i - 1] + rnorm(1, mean = 0, sd = 100)"
"0","}"
"0","flow_data <- flow_pattern + ac_noise"
"0",""
"0","# Ensure no flow goes below the minimum flow"
"0","flow_data[flow_data < 10] <- 10"
"0",""
"0","# Create a dataframe for plotting and analysis"
"0","flow_df <- data.frame("
"0","  date = as.Date(dates),"
"0","  Flow_cfs = flow_data"
"0",")"
"0",""
"0","aux_data<-aux_data%>%"
"0","  dplyr::left_join(flow_df,by=""date"")"
